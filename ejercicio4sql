/*
Ejercicio 4 (CASE):

Crea un bloque que:
1. Pida un ID de asistente (usa &input)
2. Verifique si tiene entradas VIP (tipo = 'VIP')
3. Cuente el total de entradas compradas por el asistente
4. Aplique descuentos:
   - 20% si tiene al menos 1 entrada VIP
   - 15% si ha comprado más de 5 entradas (cualquier tipo)
   - 5% si ha comprado entre 3-5 entradas
5. Muestre el cálculo completo con los descuentos aplicados
*/

SET SERVEROUTPUT ON;

DECLARE
    ID_ASISTENTE INTEGER := '&INPUT';
    ID_MAX INTEGER;
    TIPO_ENTRADA VARCHAR(10);
    PRECIO NUMERIC(3);
    NUM_ENTRADAS NUMERIC(2);
BEGIN
    SELECT MAX(ID) INTO ID_MAX FROM ASISTENTE;
    IF ID_ASISTENTE >= 1 OR ID_ASISTENTE <= ID_MAX THEN
        SELECT TIPO INTO TIPO_ENTRADA FROM ENTRADA WHERE ASISTENTE_ID = ID_ASISTENTE;
        SELECT COUNT(ID) INTO NUM_ENTRADAS FROM ENTRADA WHERE ASISTENTE_ID = ID_ASISTENTE;
        IF TIPO_ENTRADA = 'VIP' THEN
            PRECIO := CASE
                            WHEN NUM_ENTRADAS BETWEEN 3 AND 5 THEN 
        END IF;
    ELSE
        DBMS_OUTPUT.PUT_LINE ('El ID indicado es incorrecto.);
    END IF;
END;